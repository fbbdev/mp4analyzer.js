<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>mp4analyzer.js</title>
    <meta charset="utf-8" />

    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
    <script type="text/javascript" src="js/mp4analyzer.opt.js"></script>
    <script type="text/javascript">
      function handleFile(files) {
        if (!MP4.supported) return;

        var file = files[0];
        if (file.rewind) file.rewind();
        else if (file.g) file.g = 0;
        $('#info span').text('');
        if (!file) return;
        $('#name').text(file.name);
        $('#type').text(file.type);
        $('#size').text(file.size);

        MP4.analyze(file, function(info) {
          if (info.video) $('#vcodec').text(info.video.codec);
          if (info.audio) $('#acodec').text(info.audio.codec);
        });
      }

      $(document).ready(function() {
        
        if (!MP4.supported) {
          $('#selector, #info').remove();
          $('#demo').append('<div class="error">mp4analyzer.js is not supported in your browser</div>');
        }
      });
    </script>

    <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Open+Sans:400,700">
    <style>
      body {
        font-family: Open Sans, Helvetica, sans-serif;
      }

      a:link, a:active, a:visited {
        color: #a00;
      }

      a:hover {
        color: #f00;
      }
    </style>
  </head>
  <body>
    <h1>mp4analyzer.js</h1>
    JavaScript MP4/M4A/MOV format parser

    <section id="demo">
      <h2>Demo</h2>
      <div id="selector">
        Select a mp4, m4a or mov file<br /><br />
        <input type="file" onchange="handleFile(this.files);" /><br /><br />
      </div>
      <div id="info">
        <b>Name:</b> <span id="name"></span><br />
        <b>Type:</b> <span id="type"></span><br />
        <b>Size:</b> <span id="size"></span><br />
        <b>Video codec:</b> <span id="vcodec"></span><br />
        <b>Audio codec:</b> <span id="acodec"></span><br />
      </div>
    </section>

    <section id="download">
      <h2>Download</h2>
      <ul>
        <li><a href="js/mp4analyzer.js">mp4analyzer.js (uncompressed, 17.3 KB)</a></li>
        <li><a href="js/mp4analyzer.min.js">mp4analyzer.min.js (minified, 7.6 KB)</a></li>
        <li><a href="js/mp4analyzer.opt.js">mp4analyzer.opt.js (minified and optimized, 4.5 KB)</a></li>
        <li><a href="https://github.com/fbbdev/mp4analyzer.js/archive/master.zip">Source code from GitHub</a></li>
      </ul>
    </section>
  </body>
</html>
